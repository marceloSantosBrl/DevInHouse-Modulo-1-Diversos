<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>

  const calculator = function (a, b, operation) {
    const message = 'O resultado do seu cálculo é: ';
    switch (operation) {
      case '+':
        alert(message + (a + b));
        break;
      case '-':
        alert(message + (a - b));
        break;
      case '*':
        alert(message + (a * b));
        break;
      case '/':
        if (Infinity === Math.abs(a / b)) {
          alert('Divisão por zero');
          return;
        }
        alert(message + (a / b));
        break;
      default:
        throw new Error('Erro ao computar resultado');
    }
  };

  const validarNumero = function (message) {
    while (true) {
      const input = window.prompt(message);
      if (input === 's' || input == null) return 's';
      const inputNumber = parseFloat(input);
      if (!Number.isNaN(inputNumber) && isFinite(input)) {
        return inputNumber;
      }
      alert('Digite um número válido');
    }
  };

  const validateOperator = function (message) {
    while (true) {
      const input = window.prompt(message);
      if (input === 's' || input === null) return 's';
      if (['+', '-', '*', '/'].includes(input)) {
        return input;
      }
      alert('Digite uma operação válida');
    }
  };

  while (true) {
    const operation = validateOperator('Escolha uma operação ou digite s para sair');
    if (operation === 's') break;
    const firstNumber = validarNumero('Digite o primeiro número ou digite s para sair');
    if (firstNumber === 's') break;
    const secondNumber = validarNumero('Digite o segundo número ou digite s para sair');
    if (secondNumber === 's') break;
    calculator(firstNumber, secondNumber, operation);
  }

</script>
</body>
</html>
